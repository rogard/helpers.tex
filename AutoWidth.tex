%------------------------------------------------------------
% Source:
%       https://github.com/rogard/helpers.tex
% Usage:
%       \input{AutoWidth}
%       \AutoWidth[l|r]{<text>} 
%------------------------------------------------------------
%TEST\documentclass{report}
\usepackage{etoolbox}
\usepackage{xparse}
%\usepackage{zebra-goodies}

\ExplSyntaxOn
\ifcsundef{AutoWidthFlag}
{

\cs_new_protected:Npn \__autowidth_open:n #1
{%\todo{Check that #1 in \{l,c,r\}}%
  \begin{tabular}{@{}#1@{}}%
}

\cs_new_protected:Npn \__autowidth_rest:n #1
{#1\end{tabular}}

\NewDocumentCommand{\AutoWidth}
 {
  O{l} % align
  +m   % text
}
{%
  \__autowidth_open:n{#1}
  \__autowidth_rest:n{#2}
}

  \def\AutoWidthFlag{}

}
{
  % do nothing
}

\ExplSyntaxOff

%TEST\begin{document}
%TEST
%TEST\frame{\AutoWidth{curiosity\\killed\\the cat}}
%TEST
%TEST\frame{\AutoWidth[r]{curiosity\\killed\\the cat}}
%TEST
%TEST\end{document}
