%------------------------------------------------------------
% Source:
%       https://github.com/rogard/helpers.tex
% Usage:
%       \input{AutoWidth}
%       \AutoWidth[r]{<multi-line-text>}
% ------------------------------------------------------------
%\documentclass[draft]{report}                          % TEST
\usepackage{etoolbox}
\usepackage{xparse}

\ExplSyntaxOn
\ifcsundef{AutoWidthFlag}
{

  \NewExpandableDocumentCommand{\AutoWidth}
  {
    O{l}  % align
    +m    % text
  }
  {\begin{tabular}{@{}#1@{}}#2\end{tabular}}

  \def\AutoWidthFlag{}
}
{
  % do nothing
}

\ExplSyntaxOff